<p-toast>
</p-toast>


<div class="main-container">

    <form [formGroup]="form" (ngSubmit)="guardar()">

        <ng-container formArrayName="perfiles">

            <h1>Perfiles: {{nombreUsuario || 'N/A'}}</h1>

            <p-toolbar styleClass="p-1 mb-4 d-flex justify-content-end gap-2 text-right">
                <button type="button" class="btn btn-secondary" routerLink="/usuarios/principal"><i class="fas fa-arraw-left"></i> Regresar</button>
                <button type="submit" class="btn btn-primary" [disabled]="!form.valid"><i class="fas fa-save"></i> Guardar</button>
            </p-toolbar>

            <p><strong>Selecciona los perfiles:</strong></p>

            <div class="row">

                <div class="col-4 d-flex alig-items-center gap-3" *ngFor="let perfil of perfiles.controls; let i = index" [formGroupName]="i">

                    <p-inputSwitch [id]="'perfil-' + i" formControlName="activo"></p-inputSwitch>
                    <label [for]="'perfil-' + i" class="text-uppercase">
                        {{perfil.get('perfil').value}}
                    </label>

                </div>

            </div>

        </ng-container>

    </form>

</div>