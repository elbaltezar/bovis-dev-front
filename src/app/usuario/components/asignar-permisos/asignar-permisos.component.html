<p-toast>
</p-toast>


<div class="main-container">

    <form [formGroup]="form" (ngSubmit)="guardar()">

        <ng-container formArrayName="permisos">

            <h1>Permisos: {{nombrePerfil || 'N/A'}}</h1>

            <p-toolbar styleClass="p-1 mb-4 d-flex justify-content-end gap-2 text-right">
                <button type="button" class="btn btn-secondary" routerLink="/usuarios/perfiles"><i class="fas fa-arrow-left"></i> Regresar</button>
                <button type="submit" class="btn btn-primary" [disabled]="!form.valid"><i class="fas fa-save"></i> Guardar</button>
            </p-toolbar>

            <p><strong>Selecciona los permisos:</strong></p>

            <div class="row">

                <div class="col-4 d-flex alig-items-center gap-3" *ngFor="let permiso of permisos.controls; let i = index" [formGroupName]="i">

                    <p-inputSwitch [id]="'permiso-' + i" formControlName="activo"></p-inputSwitch>
                    <label [for]="'permiso-' + i" class="text-uppercase">
                        {{permiso.get('permiso').value}}
                    </label>

                </div>

            </div>

        </ng-container>

    </form>

</div>