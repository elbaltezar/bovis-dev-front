{"ast":null,"code":"import _asyncToGenerator from \"F:/Bovis/Front/bovis-dev/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { Subordinados, EstatusObjetivosPorProyecto, MensajesObjetivosCualitativos } from '../../Models/subordinados';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../Services/dor.service\";\nimport * as i2 from \"primeng/api\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/forms\";\nimport * as i5 from \"primeng/toast\";\nimport * as i6 from \"primeng/table\";\nimport * as i7 from \"primeng/button\";\nimport * as i8 from \"primeng/tooltip\";\nimport * as i9 from \"primeng/confirmdialog\";\nimport * as i10 from \"primeng/message\";\nimport * as i11 from \"primeng/dialog\";\nimport * as i12 from \"primeng/inputtextarea\";\n\nfunction DorObjetivosComponent_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r6 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 3)(1, \"div\")(2, \"div\", 19)(3, \"button\", 20);\n    i0.ɵɵlistener(\"click\", function DorObjetivosComponent_div_1_Template_button_click_3_listener() {\n      i0.ɵɵrestoreView(_r6);\n      const ctx_r5 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r5.confirm1());\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(4, \" \\u00A0\\u00A0\\u00A0\\u00A0 \");\n    i0.ɵɵelementStart(5, \"button\", 21);\n    i0.ɵɵlistener(\"click\", function DorObjetivosComponent_div_1_Template_button_click_5_listener() {\n      i0.ɵɵrestoreView(_r6);\n      const ctx_r7 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r7.showModalDialog());\n    });\n    i0.ɵɵelementEnd()()()();\n  }\n}\n\nfunction DorObjetivosComponent_div_38_ng_container_1_ng_template_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"th\");\n    i0.ɵɵtext(2, \"Descripci\\u00F3n\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"th\");\n    i0.ɵɵtext(4, \"Meta\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"th\");\n    i0.ɵɵtext(6, \"Porcentaje\");\n    i0.ɵɵelementEnd()();\n  }\n}\n\nfunction DorObjetivosComponent_div_38_ng_container_1_ng_template_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\", 27);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const obj_r14 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵpropertyInterpolate(\"pTooltip\", obj_r14.tooltip);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(obj_r14.descripcion);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(obj_r14.meta);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"\", obj_r14.valor, \"%\");\n  }\n}\n\nfunction DorObjetivosComponent_div_38_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"div\", 22)(2, \"h5\")(3, \"strong\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(5, \"div\", 23)(6, \"strong\");\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(8, \"\\u00A0\\u00A0 \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"p-table\", 24);\n    i0.ɵɵtemplate(10, DorObjetivosComponent_div_38_ng_container_1_ng_template_10_Template, 7, 0, \"ng-template\", 25);\n    i0.ɵɵtemplate(11, DorObjetivosComponent_div_38_ng_container_1_ng_template_11_Template, 7, 4, \"ng-template\", 26);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    const tipo_r8 = i0.ɵɵnextContext().$implicit;\n    const ctx_r10 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\"\\u00A0\\u00A0\", tipo_r8, \"\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\"Total: \", ctx_r10.totalObjetivosTipoUno, \"%\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"value\", ctx_r10.listObjGenralesTipoUno);\n  }\n}\n\nfunction DorObjetivosComponent_div_38_ng_container_2_ng_template_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"th\");\n    i0.ɵɵtext(2, \"Descripci\\u00F3n\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"th\");\n    i0.ɵɵtext(4, \"Meta\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"th\");\n    i0.ɵɵtext(6, \"Porcentaje\");\n    i0.ɵɵelementEnd()();\n  }\n}\n\nfunction DorObjetivosComponent_div_38_ng_container_2_ng_template_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\", 27);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const obj_r18 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵpropertyInterpolate(\"pTooltip\", obj_r18.tooltip);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(obj_r18.descripcion);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(obj_r18.meta);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"\", obj_r18.valor, \"%\");\n  }\n}\n\nfunction DorObjetivosComponent_div_38_ng_container_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"div\", 22)(2, \"h5\")(3, \"strong\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(5, \"div\", 23)(6, \"strong\");\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(8, \"\\u00A0\\u00A0 \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"p-table\", 24);\n    i0.ɵɵtemplate(10, DorObjetivosComponent_div_38_ng_container_2_ng_template_10_Template, 7, 0, \"ng-template\", 25);\n    i0.ɵɵtemplate(11, DorObjetivosComponent_div_38_ng_container_2_ng_template_11_Template, 7, 4, \"ng-template\", 26);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    const tipo_r8 = i0.ɵɵnextContext().$implicit;\n    const ctx_r11 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\"\\u00A0\\u00A0\", tipo_r8, \"\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\"Total: \", ctx_r11.totalObjetivosTipoDos, \"%\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"value\", ctx_r11.listObjGenralesTipoDos);\n  }\n}\n\nfunction DorObjetivosComponent_div_38_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 4);\n    i0.ɵɵtemplate(1, DorObjetivosComponent_div_38_ng_container_1_Template, 12, 3, \"ng-container\", 11);\n    i0.ɵɵtemplate(2, DorObjetivosComponent_div_38_ng_container_2_Template, 12, 3, \"ng-container\", 11);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const tipo_r8 = ctx.$implicit;\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", tipo_r8 == ctx_r1.tiposTablasObjGenerales[0]);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", tipo_r8 == ctx_r1.tiposTablasObjGenerales[1]);\n  }\n}\n\nfunction DorObjetivosComponent_ng_container_42_ng_template_13_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"th\", 32);\n    i0.ɵɵtext(2, \"Descripci\\u00F3n\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"th\", 33);\n    i0.ɵɵtext(4, \"Meta\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"th\", 33);\n    i0.ɵɵtext(6, \"Porcentaje\");\n    i0.ɵɵelementEnd()();\n  }\n}\n\nfunction DorObjetivosComponent_ng_container_42_ng_template_14_ng_container_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtext(1, \" \\u00A0 \\u00A0 \\u00A0 \\u00A0 \");\n    i0.ɵɵelementStart(2, \"strong\");\n    i0.ɵɵtext(3, \"Cursos\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n}\n\nfunction DorObjetivosComponent_ng_container_42_ng_template_14_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵtemplate(5, DorObjetivosComponent_ng_container_42_ng_template_14_ng_container_5_Template, 4, 0, \"ng-container\", 11);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"td\");\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const obj_r22 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(obj_r22.descripcion);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"\", obj_r22.meta, \" \");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", obj_r22.descripcion == \"Capacitaci\\u00F3n\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", obj_r22.valor, \"%\\u00A0\\u00A0 \");\n  }\n}\n\nconst _c0 = function () {\n  return {\n    \"min-width\": \"50rem\"\n  };\n};\n\nfunction DorObjetivosComponent_ng_container_42_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"div\", 22)(2, \"h5\")(3, \"strong\");\n    i0.ɵɵtext(4, \"\\u00A0\\u00A0CUALITATIVOS\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(5, \"div\", 3)(6, \"div\", 28)(7, \"div\", 23)(8, \"strong\");\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(10, \"\\u00A0\\u00A0 \");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelement(11, \"div\", 29);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"p-table\", 30);\n    i0.ɵɵtemplate(13, DorObjetivosComponent_ng_container_42_ng_template_13_Template, 7, 0, \"ng-template\", 25);\n    i0.ɵɵtemplate(14, DorObjetivosComponent_ng_container_42_ng_template_14_Template, 8, 4, \"ng-template\", 26);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelement(15, \"br\");\n    i0.ɵɵelementStart(16, \"div\", 31)(17, \"strong\");\n    i0.ɵɵtext(18);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(19, \"\\u00A0\\u00A0 \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(9);\n    i0.ɵɵtextInterpolate1(\"Total: \", ctx_r2.totalObjetivosCualitativos, \"%\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"value\", ctx_r2.listObjetivos)(\"tableStyle\", i0.ɵɵpureFunction0(4, _c0));\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate1(\"Total: \", ctx_r2.totalObjetivosCualitativos + ctx_r2.totalObjetivosTipoUno + ctx_r2.totalObjetivosTipoDos, \" %\");\n  }\n}\n\nfunction DorObjetivosComponent_ng_container_43_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"div\", 31);\n    i0.ɵɵelement(2, \"p-message\", 34);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"text\", ctx_r3.mensaje_sin_datos);\n  }\n}\n\nfunction DorObjetivosComponent_ng_template_54_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r25 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"p-button\", 35);\n    i0.ɵɵlistener(\"click\", function DorObjetivosComponent_ng_template_54_Template_p_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r25);\n      const ctx_r24 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r24.saveAllObjetivos(\"3\"));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(1, \"p-button\", 36);\n    i0.ɵɵlistener(\"click\", function DorObjetivosComponent_ng_template_54_Template_p_button_click_1_listener() {\n      i0.ɵɵrestoreView(_r25);\n      const ctx_r26 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r26.displayModal = false);\n    });\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r4 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"disabled\", ctx_r4.motivoRechazoObjetivos.length < ctx_r4.count_carapteres);\n  }\n}\n\nconst _c1 = function () {\n  return {\n    width: \"30vw\"\n  };\n};\n\nconst _c2 = function () {\n  return {\n    width: \"50vw\"\n  };\n};\n\nexport class DorObjetivosComponent {\n  constructor(dorService, confirmationService, primengConfig, messageService) {\n    this.dorService = dorService;\n    this.confirmationService = confirmationService;\n    this.primengConfig = primengConfig;\n    this.messageService = messageService;\n    this.userMail = '';\n    this.isConsulta = true;\n    this.empleado = new Subordinados();\n    this.listObjetivos = [];\n    this.msgs = [];\n    this.totalObjetivosTipoUno = 0;\n    this.totalObjetivosTipoDos = 0;\n    this.totalObjetivosCualitativos = 0;\n    this.motivoRechazoObjetivos = '';\n    this.mensaje_sin_datos = MensajesObjetivosCualitativos.sin_datos_objetivos;\n    this.count_carapteres = 20;\n    this.anio = 2023;\n    this.userMail = localStorage.getItem('userMail');\n  }\n\n  ngOnInit() {\n    //console.log(this.userMail);\n    this.getInfoEmpleado();\n  }\n\n  getInfoEmpleado() {\n    this.dorService.getDatosEmpleado(this.userMail).subscribe(emp => {\n      this.empleado = emp.data || new Subordinados(); //console.log(this.empleado);\n\n      this.getObjetivosPorProyecto(String(this.anio), this.empleado.centrosdeCostos || '', this.empleado.noEmpleado || '', this.empleado.nivel || '', EstatusObjetivosPorProyecto.capturado_por_ejecutivo, false);\n      this.dorService.getConsultarMetasProyecto(this.empleado.centrosdeCostos, this.empleado.nivel).subscribe(gpm => {\n        //console.log(gpm);\n        this.dorService.getObjetivosGenerales(this.empleado.nivel || '', this.empleado.unidadDeNegocio || '').subscribe(generales => {\n          this.listObjGenrales = generales.data; //console.log(this.listObjGenrales);\n\n          this.getTablasObjetivosGenerales(gpm);\n        });\n      });\n    });\n  }\n\n  getObjetivosPorProyecto(anio, numProyecto, noEmpleado, nivel, tipo, isRecursivo) {\n    this.dorService.getObjetivosByProyecto(anio, numProyecto, noEmpleado, nivel, tipo).subscribe(obj => {\n      if (obj.data.length == 0) {\n        this.listObjetivos = [];\n      } else {\n        this.listObjetivos = obj.data;\n        this.listObjetivos.forEach(obj => {\n          this.totalObjetivosCualitativos += Number(obj.valor || '');\n        });\n      }\n    });\n  }\n\n  getTablasObjetivosGenerales(gpm) {\n    let tipos = this.listObjGenrales.map(item => item.concepto).filter((value, index, self) => self.indexOf(value) === index);\n    let indiceCorporativo = tipos.indexOf('CORPORATIVO'); //console.log(indiceCorporativo);\n\n    if (indiceCorporativo == 1) {\n      tipos = tipos.reverse();\n    }\n\n    this.tiposTablasObjGenerales = tipos;\n    this.listObjGenralesTipoUno = this.listObjGenrales.filter(xx => xx.concepto == \"CORPORATIVO\");\n    this.listObjGenralesTipoDos = this.listObjGenrales.filter(xx => xx.concepto != \"CORPORATIVO\");\n    this.listObjGenralesTipoUno.forEach(obj => {\n      this.totalObjetivosTipoUno += Number(obj.valor || '');\n    });\n\n    if (gpm.data.length > 0) {\n      let objGPM;\n      objGPM = gpm.data;\n      objGPM.forEach(function (value) {\n        value.meta = value.meta + ' %';\n      }); //console.log(objGPM);\n\n      this.listObjGenralesTipoDos = objGPM.concat(this.listObjGenralesTipoDos);\n    }\n\n    this.listObjGenralesTipoDos.forEach(obj => {\n      this.totalObjetivosTipoDos += Number(obj.valor || '');\n    });\n  }\n\n  confirm1() {\n    this.confirmationService.confirm({\n      message: 'Apruebas todos los objetivos?',\n      header: 'Confirmación',\n      icon: 'pi pi-exclamation-triangle',\n      acceptLabel: 'Aceptar',\n      rejectLabel: 'Cancelar',\n      accept: () => {\n        this.saveAllObjetivos('2');\n        /*   this.messageService.add({\r\n            severity: \"success\",\r\n            summary: \"Dor\",\r\n            detail: \"Objetivos aprobados correctamente\"\r\n          }); */\n\n        /*  this.msgs = [{severity:'info', summary:'Confirmed', detail:'You have accepted'}]; */\n      },\n      reject: () => {\n        this.messageService.add({\n          severity: \"warn\",\n          summary: \"Dor\",\n          detail: \"Acción cancelada\"\n        });\n        /* this.msgs = [{severity:'info', summary:'Rejected', detail:'You have rejected'}]; */\n      }\n    });\n  }\n\n  showModalDialog() {\n    this.motivoRechazoObjetivos = '';\n    this.displayModal = true;\n  }\n\n  saveAllObjetivos(tipoAcept) {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      let tipoSaveMensaje = '';\n      let isProcesa = true;\n\n      if (tipoAcept == '3') {\n        tipoSaveMensaje = 'rechazados';\n\n        if (_this.motivoRechazoObjetivos.length >= _this.count_carapteres) {\n          isProcesa = true;\n        } else {\n          isProcesa = false;\n        }\n      } else {\n        tipoSaveMensaje = 'aprobados';\n      }\n\n      if (isProcesa) {\n        _this.listObjetivos.forEach( /*#__PURE__*/function () {\n          var _ref = _asyncToGenerator(function* (objetivo) {\n            objetivo.acepto = tipoAcept;\n            objetivo.nivel = objetivo.valor;\n\n            if (tipoAcept == '3') {\n              objetivo.motivoR = _this.motivoRechazoObjetivos;\n            }\n\n            yield _this.dorService.updateObjetivos(objetivo).subscribe(udt => {\n              _this.messageService.add({\n                severity: 'success',\n                summary: 'Guardar',\n                detail: `Todos los objetivos fueron ${tipoSaveMensaje} correctamente`\n              });\n            });\n          });\n\n          return function (_x) {\n            return _ref.apply(this, arguments);\n          };\n        }());\n\n        _this.displayModal = false;\n\n        _this.getInfoEmpleado();\n      }\n    })();\n  }\n\n}\n\nDorObjetivosComponent.ɵfac = function DorObjetivosComponent_Factory(t) {\n  return new (t || DorObjetivosComponent)(i0.ɵɵdirectiveInject(i1.DorService), i0.ɵɵdirectiveInject(i2.ConfirmationService), i0.ɵɵdirectiveInject(i2.PrimeNGConfig), i0.ɵɵdirectiveInject(i2.MessageService));\n};\n\nDorObjetivosComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: DorObjetivosComponent,\n  selectors: [[\"app-dor-objetivos\"]],\n  decls: 55,\n  vars: 30,\n  consts: [[1, \"content\", 2, \"margin\", \"2%\"], [\"class\", \"row\", 4, \"ngIf\"], [1, \"\"], [1, \"row\"], [1, \"col-sm\"], [\"for\", \"concepto\"], [\"type\", \"text\", 1, \"form-control\", 3, \"disabled\", \"ngModel\", \"ngModelChange\"], [\"for\", \"descripcion\"], [\"for\", \"email\"], [\"class\", \"col-sm\", 4, \"ngFor\", \"ngForOf\"], [1, \"col-12\"], [4, \"ngIf\"], [3, \"baseZIndex\"], [\"header\", \"Rechazar Objetivos\", 3, \"visible\", \"modal\", \"baseZIndex\", \"draggable\", \"resizable\", \"visibleChange\"], [1, \"row\", \"d-flex\", \"justify-content-center\"], [\"for\", \"\"], [2, \"color\", \"red\"], [\"pInputTextarea\", \"\", 3, \"placeholder\", \"rows\", \"cols\", \"ngModel\", \"ngModelChange\"], [\"pTemplate\", \"footer\"], [1, \"d-flex\", \"justify-content-center\"], [\"pButton\", \"\", \"pRipple\", \"\", \"type\", \"button\", \"label\", \"Aprobar Objetivos\", 1, \"p-button-success\", 3, \"click\"], [\"pButton\", \"\", \"type\", \"button\", \"label\", \"Rechazar Objetivos\", 1, \"p-button-warning\", 3, \"click\"], [1, \"card\"], [1, \"text-end\"], [3, \"value\"], [\"pTemplate\", \"header\"], [\"pTemplate\", \"body\"], [\"tooltipPosition\", \"top\", 3, \"pTooltip\"], [1, \"col-11\"], [1, \"col-1\"], [3, \"value\", \"tableStyle\"], [1, \"text-center\"], [2, \"width\", \"60%\"], [2, \"width\", \"20%\"], [\"severity\", \"info\", \"styleClass\", \"p-mr-2\", 3, \"text\"], [\"icon\", \"pi pi-check\", \"label\", \"Aceptar\", 1, \"p-button-text\", 3, \"disabled\", \"click\"], [\"icon\", \"pi pi-times\", \"label\", \"Cancelar\", 3, \"click\"]],\n  template: function DorObjetivosComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0);\n      i0.ɵɵtemplate(1, DorObjetivosComponent_div_1_Template, 6, 0, \"div\", 1);\n      i0.ɵɵelement(2, \"br\");\n      i0.ɵɵelementStart(3, \"div\", 2);\n      i0.ɵɵelement(4, \"br\");\n      i0.ɵɵelementStart(5, \"div\", 3)(6, \"div\", 4)(7, \"label\", 5);\n      i0.ɵɵtext(8, \"Empleado:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(9, \"div\", 2)(10, \"input\", 6);\n      i0.ɵɵlistener(\"ngModelChange\", function DorObjetivosComponent_Template_input_ngModelChange_10_listener($event) {\n        return ctx.empleado.nombre = $event;\n      });\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(11, \"div\", 4)(12, \"label\", 7);\n      i0.ɵɵtext(13, \"N\\u00FAm. de empleado:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(14, \"div\", 2)(15, \"input\", 6);\n      i0.ɵɵlistener(\"ngModelChange\", function DorObjetivosComponent_Template_input_ngModelChange_15_listener($event) {\n        return ctx.empleado.noEmpleado = $event;\n      });\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(16, \"div\", 4)(17, \"label\", 8);\n      i0.ɵɵtext(18, \"Proyecto:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(19, \"div\", 2)(20, \"input\", 6);\n      i0.ɵɵlistener(\"ngModelChange\", function DorObjetivosComponent_Template_input_ngModelChange_20_listener($event) {\n        return ctx.empleado.proyecto = $event;\n      });\n      i0.ɵɵelementEnd()()()();\n      i0.ɵɵelement(21, \"br\");\n      i0.ɵɵelementStart(22, \"div\", 3)(23, \"div\", 4)(24, \"label\", 7);\n      i0.ɵɵtext(25, \"Direcci\\u00F3n Ejecutiva:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(26, \"div\", 2)(27, \"input\", 6);\n      i0.ɵɵlistener(\"ngModelChange\", function DorObjetivosComponent_Template_input_ngModelChange_27_listener($event) {\n        return ctx.empleado.direccionEjecutiva = $event;\n      });\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(28, \"div\", 4)(29, \"label\", 5);\n      i0.ɵɵtext(30, \"Unidad de Negocio:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(31, \"div\", 2)(32, \"input\", 6);\n      i0.ɵɵlistener(\"ngModelChange\", function DorObjetivosComponent_Template_input_ngModelChange_32_listener($event) {\n        return ctx.empleado.unidadDeNegocio = $event;\n      });\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelement(33, \"div\", 4);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(34, \"br\");\n      i0.ɵɵelementStart(35, \"div\", 2);\n      i0.ɵɵelement(36, \"br\");\n      i0.ɵɵelementStart(37, \"div\", 3);\n      i0.ɵɵtemplate(38, DorObjetivosComponent_div_38_Template, 3, 2, \"div\", 9);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(39, \"br\");\n      i0.ɵɵelementStart(40, \"div\", 3)(41, \"div\", 10);\n      i0.ɵɵtemplate(42, DorObjetivosComponent_ng_container_42_Template, 20, 5, \"ng-container\", 11);\n      i0.ɵɵtemplate(43, DorObjetivosComponent_ng_container_43_Template, 3, 1, \"ng-container\", 11);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelement(44, \"br\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelement(45, \"p-confirmDialog\", 12)(46, \"p-toast\");\n      i0.ɵɵelementStart(47, \"p-dialog\", 13);\n      i0.ɵɵlistener(\"visibleChange\", function DorObjetivosComponent_Template_p_dialog_visibleChange_47_listener($event) {\n        return ctx.displayModal = $event;\n      });\n      i0.ɵɵelementStart(48, \"div\", 14)(49, \"label\", 15)(50, \"strong\", 16);\n      i0.ɵɵtext(51, \"* Debe ingresar una descripci\\u00F3n\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(52, \"div\", 14)(53, \"textarea\", 17);\n      i0.ɵɵlistener(\"ngModelChange\", function DorObjetivosComponent_Template_textarea_ngModelChange_53_listener($event) {\n        return ctx.motivoRechazoObjetivos = $event;\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵtemplate(54, DorObjetivosComponent_ng_template_54_Template, 2, 1, \"ng-template\", 18);\n      i0.ɵɵelementEnd();\n    }\n\n    if (rf & 2) {\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.listObjetivos.length > 0);\n      i0.ɵɵadvance(9);\n      i0.ɵɵproperty(\"disabled\", ctx.isConsulta)(\"ngModel\", ctx.empleado.nombre);\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"disabled\", ctx.isConsulta)(\"ngModel\", ctx.empleado.noEmpleado);\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"disabled\", ctx.isConsulta)(\"ngModel\", ctx.empleado.proyecto);\n      i0.ɵɵadvance(7);\n      i0.ɵɵproperty(\"disabled\", ctx.isConsulta)(\"ngModel\", ctx.empleado.direccionEjecutiva);\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"disabled\", ctx.isConsulta)(\"ngModel\", ctx.empleado.unidadDeNegocio);\n      i0.ɵɵadvance(6);\n      i0.ɵɵproperty(\"ngForOf\", ctx.tiposTablasObjGenerales);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngIf\", ctx.listObjetivos.length > 0);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.listObjetivos.length == 0);\n      i0.ɵɵadvance(2);\n      i0.ɵɵstyleMap(i0.ɵɵpureFunction0(28, _c1));\n      i0.ɵɵproperty(\"baseZIndex\", 10000);\n      i0.ɵɵadvance(2);\n      i0.ɵɵstyleMap(i0.ɵɵpureFunction0(29, _c2));\n      i0.ɵɵproperty(\"visible\", ctx.displayModal)(\"modal\", true)(\"baseZIndex\", 10000)(\"draggable\", false)(\"resizable\", false);\n      i0.ɵɵadvance(6);\n      i0.ɵɵpropertyInterpolate1(\"placeholder\", \"Ingrese al menos \", ctx.count_carapteres, \" caracteres\");\n      i0.ɵɵproperty(\"rows\", 3)(\"cols\", 80)(\"ngModel\", ctx.motivoRechazoObjetivos);\n    }\n  },\n  dependencies: [i3.NgForOf, i3.NgIf, i4.DefaultValueAccessor, i4.NgControlStatus, i4.NgModel, i5.Toast, i2.PrimeTemplate, i6.Table, i7.ButtonDirective, i7.Button, i8.Tooltip, i9.ConfirmDialog, i10.UIMessage, i11.Dialog, i12.InputTextarea],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJkb3Itb2JqZXRpdm9zLmNvbXBvbmVudC5zY3NzIn0= */\"]\n});","map":{"version":3,"mappings":"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","names":["Subordinados","EstatusObjetivosPorProyecto","MensajesObjetivosCualitativos","i0","DorObjetivosComponent","constructor","dorService","confirmationService","primengConfig","messageService","sin_datos_objetivos","userMail","localStorage","getItem","ngOnInit","getInfoEmpleado","getDatosEmpleado","subscribe","emp","empleado","data","getObjetivosPorProyecto","String","anio","centrosdeCostos","noEmpleado","nivel","capturado_por_ejecutivo","getConsultarMetasProyecto","gpm","getObjetivosGenerales","unidadDeNegocio","generales","listObjGenrales","getTablasObjetivosGenerales","numProyecto","tipo","isRecursivo","getObjetivosByProyecto","obj","length","listObjetivos","forEach","totalObjetivosCualitativos","Number","valor","tipos","map","item","concepto","filter","value","index","self","indexOf","indiceCorporativo","reverse","tiposTablasObjGenerales","listObjGenralesTipoUno","xx","listObjGenralesTipoDos","totalObjetivosTipoUno","objGPM","meta","concat","totalObjetivosTipoDos","confirm1","confirm","message","header","icon","acceptLabel","rejectLabel","accept","saveAllObjetivos","reject","add","severity","summary","detail","showModalDialog","motivoRechazoObjetivos","displayModal","tipoAcept","tipoSaveMensaje","isProcesa","count_carapteres","objetivo","acepto","motivoR","updateObjetivos","udt","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["F:\\Bovis\\Front\\bovis-dev\\src\\app\\dor\\components\\dor-objetivos\\dor-objetivos.component.ts","F:\\Bovis\\Front\\bovis-dev\\src\\app\\dor\\components\\dor-objetivos\\dor-objetivos.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { DorService } from '../../Services/dor.service';\r\nimport { Objetivos, ObjetivosGenerales, Subordinados, EstatusObjetivosPorProyecto, MensajesObjetivosCualitativos } from '../../Models/subordinados';\r\nimport { ConfirmationService, Message, MessageService, PrimeNGConfig } from 'primeng/api';\r\n\r\n@Component({\r\n  selector: 'app-dor-objetivos',\r\n  templateUrl: './dor-objetivos.component.html',\r\n  styleUrls: ['./dor-objetivos.component.scss']\r\n})\r\nexport class DorObjetivosComponent implements OnInit {\r\n  userMail: string | null = '';\r\n  isConsulta = true;\r\n  empleado: Subordinados = new Subordinados();\r\n  listObjGenrales: ObjetivosGenerales[];\r\n  listObjGenralesTipoUno: ObjetivosGenerales[];\r\n  listObjGenralesTipoDos: ObjetivosGenerales[];\r\n  tiposTablasObjGenerales: any;\r\n  listObjetivos: Objetivos[] = [];\r\n  msgs: Message[] = [];\r\n  totalObjetivosTipoUno: number = 0;\r\n  totalObjetivosTipoDos: number = 0;\r\n  totalObjetivosCualitativos: number = 0;\r\n  displayModal: boolean;\r\n  motivoRechazoObjetivos: string = '';\r\n  mensaje_sin_datos = MensajesObjetivosCualitativos.sin_datos_objetivos;\r\n  count_carapteres: number = 20;\r\n  anio: number = 2023;\r\n  constructor(private dorService: DorService, private confirmationService: ConfirmationService,\r\n    private primengConfig: PrimeNGConfig, private messageService: MessageService) {\r\n    this.userMail = localStorage.getItem('userMail');\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    //console.log(this.userMail);\r\n    this.getInfoEmpleado();\r\n\r\n  }\r\n\r\n  getInfoEmpleado() {\r\n    this.dorService.getDatosEmpleado(this.userMail).subscribe(emp => {\r\n      this.empleado = emp.data || new Subordinados();\r\n      //console.log(this.empleado);\r\n\r\n      this.getObjetivosPorProyecto(String(this.anio), this.empleado.centrosdeCostos || '', this.empleado.noEmpleado || '', this.empleado.nivel || '', EstatusObjetivosPorProyecto.capturado_por_ejecutivo, false)\r\n\r\n      this.dorService.getConsultarMetasProyecto(this.empleado.centrosdeCostos,this.empleado.nivel).subscribe(gpm => {\r\n        //console.log(gpm);\r\n        this.dorService.getObjetivosGenerales(this.empleado.nivel || '', this.empleado.unidadDeNegocio || '').subscribe(generales => {\r\n          this.listObjGenrales = generales.data;\r\n          //console.log(this.listObjGenrales);\r\n          this.getTablasObjetivosGenerales(gpm);\r\n        });\r\n      });\r\n    });\r\n  }\r\n\r\n  getObjetivosPorProyecto(anio: string, numProyecto: string, noEmpleado: string, nivel: string, tipo: number, isRecursivo: boolean) {\r\n\r\n    this.dorService.getObjetivosByProyecto(anio, numProyecto, noEmpleado, nivel, tipo).subscribe(obj => {\r\n\r\n      if (obj.data.length == 0) {\r\n        this.listObjetivos = [];\r\n      }\r\n      else {\r\n        this.listObjetivos = obj.data;\r\n        this.listObjetivos.forEach(obj => {\r\n          this.totalObjetivosCualitativos += Number(obj.valor || '');\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  getTablasObjetivosGenerales(gpm: any) {\r\n\r\n    let tipos = this.listObjGenrales.map(item => item.concepto)\r\n      .filter((value, index, self) => self.indexOf(value) === index);\r\n    let indiceCorporativo = tipos.indexOf('CORPORATIVO');\r\n    //console.log(indiceCorporativo);\r\n    if (indiceCorporativo == 1) {\r\n      tipos = tipos.reverse();\r\n    }\r\n    this.tiposTablasObjGenerales = tipos;\r\n    this.listObjGenralesTipoUno = this.listObjGenrales.filter(xx => xx.concepto == \"CORPORATIVO\");\r\n    this.listObjGenralesTipoDos = this.listObjGenrales.filter(xx => xx.concepto != \"CORPORATIVO\");\r\n\r\n    this.listObjGenralesTipoUno.forEach(obj => {\r\n      this.totalObjetivosTipoUno += Number(obj.valor || '');\r\n    });\r\n\r\n    if(gpm.data.length > 0){\r\n      let objGPM: ObjetivosGenerales[];\r\n      objGPM = gpm.data;\r\n      objGPM.forEach(function (value) {\r\n        value.meta = value.meta +' %'\r\n      });\r\n      //console.log(objGPM);\r\n      this.listObjGenralesTipoDos = objGPM.concat(this.listObjGenralesTipoDos);\r\n    }\r\n\r\n\r\n    this.listObjGenralesTipoDos.forEach(obj => {\r\n      this.totalObjetivosTipoDos += Number(obj.valor || '');\r\n    });\r\n  }\r\n\r\n  confirm1() {\r\n    this.confirmationService.confirm({\r\n      message: 'Apruebas todos los objetivos?',\r\n      header: 'Confirmación',\r\n      icon: 'pi pi-exclamation-triangle',\r\n      acceptLabel: 'Aceptar',\r\n      rejectLabel: 'Cancelar',\r\n      accept: () => {\r\n\r\n        this.saveAllObjetivos('2');\r\n        /*   this.messageService.add({\r\n            severity: \"success\",\r\n            summary: \"Dor\",\r\n            detail: \"Objetivos aprobados correctamente\"\r\n          }); */\r\n        /*  this.msgs = [{severity:'info', summary:'Confirmed', detail:'You have accepted'}]; */\r\n      },\r\n      reject: () => {\r\n        this.messageService.add({\r\n          severity: \"warn\",\r\n          summary: \"Dor\",\r\n          detail: \"Acción cancelada\"\r\n        });\r\n        /* this.msgs = [{severity:'info', summary:'Rejected', detail:'You have rejected'}]; */\r\n      }\r\n    });\r\n  }\r\n\r\n  showModalDialog() {\r\n    this.motivoRechazoObjetivos = '';\r\n    this.displayModal = true;\r\n  }\r\n\r\n  async saveAllObjetivos(tipoAcept: string) {\r\n\r\n    let tipoSaveMensaje = '';\r\n    let isProcesa = true\r\n    if (tipoAcept == '3') {\r\n      tipoSaveMensaje = 'rechazados'\r\n      if (this.motivoRechazoObjetivos.length >= this.count_carapteres) {\r\n        isProcesa = true;\r\n      }\r\n      else{\r\n        isProcesa = false;\r\n      }\r\n    }\r\n    else {\r\n      tipoSaveMensaje = 'aprobados'\r\n    }\r\n    if (isProcesa) {\r\n      this.listObjetivos.forEach(async objetivo => {\r\n        objetivo.acepto = tipoAcept;\r\n        objetivo.nivel = objetivo.valor;\r\n        if (tipoAcept == '3') {\r\n          objetivo.motivoR = this.motivoRechazoObjetivos;\r\n        }\r\n\r\n        await this.dorService.updateObjetivos(objetivo).subscribe(udt => {\r\n          this.messageService.add({ severity: 'success', summary: 'Guardar', detail: `Todos los objetivos fueron ${tipoSaveMensaje} correctamente` });\r\n        });\r\n      });\r\n\r\n      this.displayModal = false;\r\n      this.getInfoEmpleado();\r\n    }\r\n  }\r\n\r\n}\r\n","<div class=\"content\" style=\"margin:2%\">\r\n\r\n  <div class=\"row\" *ngIf=\"listObjetivos.length > 0\">\r\n    <div>\r\n      <div class=\"d-flex justify-content-center\">\r\n        <button pButton pRipple type=\"button\" label=\"Aprobar Objetivos\" (click)=\"confirm1()\"\r\n          class=\"p-button-success\"></button>\r\n          &nbsp;&nbsp;&nbsp;&nbsp;\r\n          <button pButton type=\"button\" label=\"Rechazar Objetivos\" class=\"p-button-warning\" (click)=\"showModalDialog()\"></button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <br>\r\n\r\n  <div class=\"\">\r\n    <br>\r\n    <div class=\"row\">\r\n      <div class=\"col-sm\">\r\n        <label for=\"concepto\">Empleado:</label>\r\n        <div class=\"\">\r\n          <input type=\"text\" class=\"form-control\" [disabled]=\"isConsulta\" [(ngModel)]=\"empleado.nombre\">\r\n        </div>\r\n      </div>\r\n      <div class=\"col-sm\">\r\n        <label for=\"descripcion\">Núm. de empleado:</label>\r\n        <div class=\"\">\r\n          <input type=\"text\" class=\"form-control\" [disabled]=\"isConsulta\" [(ngModel)]=\"empleado.noEmpleado\">\r\n        </div>\r\n      </div>\r\n      <div class=\"col-sm\">\r\n        <label for=\"email\">Proyecto:</label>\r\n        <div class=\"\">\r\n          <input type=\"text\" class=\"form-control\" [disabled]=\"isConsulta\" [(ngModel)]=\"empleado.proyecto\">\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <br>\r\n\r\n    <div class=\"row\">\r\n      <div class=\"col-sm\">\r\n        <label for=\"descripcion\">Dirección Ejecutiva:</label>\r\n        <div class=\"\">\r\n          <input type=\"text\" class=\"form-control\" [disabled]=\"isConsulta\" [(ngModel)]=\"empleado.direccionEjecutiva\">\r\n        </div>\r\n      </div>\r\n      <div class=\"col-sm\">\r\n        <label for=\"concepto\">Unidad de Negocio:</label>\r\n        <div class=\"\">\r\n          <input type=\"text\" class=\"form-control\" [disabled]=\"isConsulta\" [(ngModel)]=\"empleado.unidadDeNegocio\">\r\n        </div>\r\n      </div>\r\n      <div class=\"col-sm\">\r\n      </div>\r\n    </div>\r\n    <br>\r\n\r\n    <div class=\"\">\r\n      <br>\r\n      <div class=\"row\">\r\n        <div class=\"col-sm\" *ngFor=\"let tipo of tiposTablasObjGenerales; let i = index;\">\r\n          <ng-container *ngIf=\"tipo == tiposTablasObjGenerales[0]\">\r\n            <div class=\"card\">\r\n              <h5><strong>&nbsp;&nbsp;{{tipo}}</strong></h5>\r\n              <!-- [tableStyle]=\"{'min-width': '50rem'}\" -->\r\n              <div class=\"text-end\">\r\n                <strong>Total: {{totalObjetivosTipoUno}}%</strong>&nbsp;&nbsp;\r\n              </div>\r\n              <p-table [value]=\"listObjGenralesTipoUno\">\r\n                <ng-template pTemplate=\"header\">\r\n                  <tr>\r\n                    <th>Descripción</th>\r\n                    <th>Meta</th>\r\n                    <th>Porcentaje</th>\r\n                  </tr>\r\n                </ng-template>\r\n                <ng-template pTemplate=\"body\" let-obj>\r\n                  <tr>\r\n                    <td pTooltip=\"{{obj.tooltip}}\" tooltipPosition=\"top\">{{obj.descripcion}}</td>\r\n                    <td>{{obj.meta}}</td>\r\n                    <td>{{obj.valor}}%</td>\r\n                  </tr>\r\n                </ng-template>\r\n              </p-table>\r\n            </div>\r\n          </ng-container>\r\n          <ng-container *ngIf=\"tipo == tiposTablasObjGenerales[1]\">\r\n            <div class=\"card\">\r\n              <h5><strong>&nbsp;&nbsp;{{tipo}}</strong></h5>\r\n              <!-- [tableStyle]=\"{'min-width': '50rem'}\" -->\r\n              <div class=\"text-end\">\r\n                <strong>Total: {{totalObjetivosTipoDos}}%</strong>&nbsp;&nbsp;\r\n              </div>\r\n              <p-table [value]=\"listObjGenralesTipoDos\">\r\n                <ng-template pTemplate=\"header\">\r\n                  <tr>\r\n                    <th>Descripción</th>\r\n                    <th>Meta</th>\r\n                    <th>Porcentaje</th>\r\n                  </tr>\r\n                </ng-template>\r\n                <ng-template pTemplate=\"body\" let-obj>\r\n                  <tr>\r\n\r\n                      <td pTooltip=\"{{obj.tooltip}}\" tooltipPosition=\"top\">{{obj.descripcion}}</td>\r\n                      <td>{{obj.meta}}</td>\r\n                      <td>{{obj.valor}}%</td>\r\n                  </tr>\r\n                </ng-template>\r\n              </p-table>\r\n            </div>\r\n          </ng-container>\r\n        </div>\r\n      </div>\r\n      <br>\r\n\r\n      <div class=\"row\">\r\n        <div class=\"col-12\">\r\n\r\n          <ng-container *ngIf=\"listObjetivos.length > 0\">\r\n            <div class=\"card\">\r\n              <h5><strong>&nbsp;&nbsp;CUALITATIVOS</strong></h5>\r\n              <div class=\"row\">\r\n                <!-- <div class=\"col-sm-8\"><p class=\"float-end\">left</p></div>\r\n                <div class=\"col-sm-2\"><p class=\"float-start\">right</p></div>\r\n                <div class=\"col-sm-2\"><p class=\"float-start\">right</p></div> -->\r\n                <!-- <div class=\"col-1\">\r\n                </div> -->\r\n                <div class=\"col-11\">\r\n                  <div class=\"text-end\">\r\n                    <strong>Total: {{totalObjetivosCualitativos}}%</strong>&nbsp;&nbsp;\r\n                  </div>\r\n                </div>\r\n                <div class=\"col-1\">\r\n                </div>\r\n              </div>\r\n              <p-table [value]=\"listObjetivos\" [tableStyle]=\"{'min-width': '50rem'}\">\r\n                <ng-template pTemplate=\"header\">\r\n                  <tr>\r\n                    <th style=\"width:60%\">Descripción</th>\r\n                    <th style=\"width:20%\">Meta</th>\r\n                    <th style=\"width:20%\">Porcentaje</th>\r\n                  </tr>\r\n                </ng-template>\r\n                <ng-template pTemplate=\"body\" let-obj>\r\n                  <tr>\r\n                    <td>{{obj.descripcion}}</td>\r\n                    <td>{{obj.meta}}\r\n                      <ng-container *ngIf=\"obj.descripcion == 'Capacitación'\">\r\n                        &nbsp; &nbsp; &nbsp; &nbsp; <strong>Cursos</strong>\r\n                      </ng-container>\r\n                    </td>\r\n                    <td>\r\n                      {{obj.valor}}%&nbsp;&nbsp;\r\n                    </td>\r\n                  </tr>\r\n                </ng-template>\r\n              </p-table>\r\n            </div>\r\n            <br>\r\n            <div class=\"text-center\">\r\n              <strong>Total: {{totalObjetivosCualitativos + totalObjetivosTipoUno + totalObjetivosTipoDos}} %</strong>&nbsp;&nbsp;\r\n            </div>\r\n          </ng-container>\r\n\r\n          <ng-container *ngIf=\"listObjetivos.length == 0\">\r\n            <div class=\"text-center\">\r\n              <p-message severity=\"info\" [text]=\"mensaje_sin_datos\" styleClass=\"p-mr-2\"></p-message>\r\n            </div>\r\n          </ng-container>\r\n        </div>\r\n      </div>\r\n      <br>\r\n\r\n    </div>\r\n  </div>\r\n</div>\r\n<p-confirmDialog [style]=\"{width: '30vw'}\" [baseZIndex]=\"10000\">\r\n\r\n</p-confirmDialog>\r\n<p-toast></p-toast>\r\n\r\n<p-dialog header=\"Rechazar Objetivos\" [(visible)]=\"displayModal\" [modal]=\"true\" [style]=\"{width: '50vw'}\" [baseZIndex]=\"10000\"\r\n    [draggable]=\"false\" [resizable]=\"false\">\r\n    <div class=\"row d-flex justify-content-center\">\r\n      <label for=\"\">\r\n        <strong style=\"color: red;\">* Debe ingresar una descripción</strong>\r\n       </label>\r\n    </div>\r\n    <div  class=\"row d-flex justify-content-center\">\r\n        <textarea placeholder=\"Ingrese al menos {{count_carapteres}} caracteres\" [rows]=\"3\" [cols]=\"80\" pInputTextarea  [(ngModel)]=\"motivoRechazoObjetivos\"></textarea>\r\n    </div>\r\n        <ng-template pTemplate=\"footer\">\r\n            <p-button icon=\"pi pi-check\" (click)=\"saveAllObjetivos('3')\" label=\"Aceptar\" class=\"p-button-text\" [disabled]=\"motivoRechazoObjetivos.length < count_carapteres\"></p-button>\r\n            <p-button icon=\"pi pi-times\" (click)=\"displayModal=false\" label=\"Cancelar\"></p-button>\r\n        </ng-template>\r\n</p-dialog>\r\n"]},"metadata":{},"sourceType":"module"}